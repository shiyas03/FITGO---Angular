<div>
  <img src="assets/images/header2.png" alt="not found" class="w-full lg:h-full h-20" />
  <div class="absolute lg:top-5 top-2 left-0 w-full">
    <app-nav-bar></app-nav-bar>
  </div>
</div>

<div class="w-full min-h-screen md:m-10" *ngIf="(workout$|async) as data">
  <div class="flex justify-center w-full">
    <div class="">
      <p class="text-xl text-semibold font-serif mb-2 underline text-center">{{data.title}}</p>
      <video controls>
        <source [src]="data.video" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>
  </div>
  <div class="flex justify-center m-10">
    <div class="md:w-1/2">
      <p class="mt-5 mb-3 text-lg font-semibold font">For {{data.level}} :-</p>
      <div class="grid md:grid-cols-5 grid-cols-2 mt-2">
        <div><span class="mt-1 font">Repetitions</span></div>
        <div><span class="mt-1 font">{{data.reps}}</span></div>
      </div>
      <div class="grid md:grid-cols-5 grid-cols-2 mt-2">
        <div><span class="mt-1 font">Sets</span></div>
        <div><span class="mt-1 font">{{data.sets}}</span></div>
      </div>
      <div class="grid md:grid-cols-5 grid-cols-2 mt-2">
        <div><span class="mt-1 font">Time Interval</span></div>
        <div><span class="mt-1 font">{{data.interval}}</span></div>
      </div>
      <div class="grid md:grid-cols-5 grid-cols-2 mt-2">
        <div><span class="mt-1 font">Duration</span></div>
        <div><span class="mt-1 font">{{data.duration}}</span></div>
      </div>
      <div class="md:grid md:grid-cols-5 grid-cols-2 mt-2">
        <div><span class="mt-1 font">Overview</span></div>
        <div class="md:col-span-4"><span class="mt-1 font">{{data.overview}}</span></div>
      </div>
      <div class="md:grid md:grid-cols-5 grid-cols-2 mt-10">
        <div></div>
        <div>
          <div *ngIf="!isFinished; else finishBlock">
            <button class="px-8 py-1 bg-green-500 text-white rounded-md shadow-md" *ngIf="!isStarted" (click)="started()">Start</button>
            <button class="px-8 py-1 bg-red-500 text-white rounded-md shadow-md" *ngIf="isStarted" (click)="finished(data._id)">Finish</button>
          </div>
          <ng-template #finishBlock>
            <p class="text-red-500 text-lg">You already finished this today!</p>
          </ng-template>
        </div>
      </div>
      <div class="mt-10 border-t border-b mb-10 border-red-600 flex justify-center">
        <div class="w-2/4 bg-gray-200 rounded-lg drop-shadow-lg m-5 md:flex items-center justify-center">
          <div class="md:w-1/2 bg-gray-900 p-5 rounded-l">
            <p class="text-xs underline mb-5 text-white text-center">Workout by</p>
            <div class="lg:w-24 lg:h-24 w-15 h-15 rounded-full bg-gray-300 overflow-hidden">
              <img [src]="'http://localhost:3000/uploads/'+data.trainerId.imageUrl" alt="" class="w-fit h-fit">
            </div>
          </div>
          <div class="mx-5">
            <p class="text-sm font-medium">Hey, I am {{data.trainerId.name}}</p>
            <p class="text-sm font-medium">Dedicated {{data.trainerId.specialized}} Trainer with
              {{data.trainerId.experience}} years of experience</p>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<app-footer></app-footer>